<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-yes.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-yes.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-yes.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="M_ma4MGD9CfcYr16eVjUk0URJBQ-FPG3_O7vhYzoF2E">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/lib/animate-css/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"zorroye.github.io","root":"/","scheme":"Gemini","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"path":"search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="升级认知，看透本质">
<meta property="og:type" content="website">
<meta property="og:title" content="Ye&#39;s Blog">
<meta property="og:url" content="https://zorroye.github.io/page/18/index.html">
<meta property="og:site_name" content="Ye&#39;s Blog">
<meta property="og:description" content="升级认知，看透本质">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ZorroYe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://zorroye.github.io/page/18/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Ye's Blog</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2b0dbd880dfaff3fde3fcb1beb61713d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Ye's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">勤解万难</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">ZorroYe</p>
  <div class="site-description" itemprop="description">升级认知，看透本质</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">282</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">60</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">57</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/zorroye" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zorroye" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:439753096@qq.com" title="E-Mail → mailto:439753096@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </section>
        <div class="back-to-top animated">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content index posts-expand">
          
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zorroye.github.io/posts/1553022911/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ZorroYe">
      <meta itemprop="description" content="升级认知，看透本质">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye's Blog">
    </span>

    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/1553022911/" class="post-title-link" itemprop="url">鸟哥基础第十九章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2012-10-05 13:39:00" itemprop="dateCreated datePublished" datetime="2012-10-05T13:39:00+08:00">2012-10-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-04 14:44:13" itemprop="dateModified" datetime="2020-08-04T14:44:13+08:00">2020-08-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/%E9%B8%9F%E5%93%A5%E7%9A%84%E7%A7%81%E6%88%BF%E8%8F%9C/" itemprop="url" rel="index"><span itemprop="name">鸟哥的私房菜</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>966</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>函数库：  </p>
<blockquote>
<p>静态函数库：*.a<br>动态函数库：*.so  </p>
</blockquote>
<blockquote>
<p>存放位置：  </p>
<blockquote>
<p>/lib<br>/usr/lib<br>/lib/modules/`uname -r` #这里是核心函数库  </p>
</blockquote>
<p>相关操作  </p>
<blockquote>
<p>1、ld.so.conf  </p>
<blockquote>
<p>/etc/ld.so.cache<br>/etc/ld.so.conf             #就写着要包含/etc/ld.so.conf.d下的所有.conf文件<br>/etc/ld.so.conf.d          #写着要加载的动态函数库目录，只能加载整个目录  </p>
</blockquote>
</blockquote>
<blockquote>
<p>2、ldconfig  </p>
<blockquote>
<p>ldconfig                       #将/etc/ld.so.conf.d里面包含的函数库目录全部读入内存中  </p>
</blockquote>
<blockquote>
<p>ldconfig -p                   #查看当前读入到内存中的函数库  </p>
</blockquote>
<p>3、ldd  </p>
<blockquote>
<p>ldd /usr/bin/make        #查看该命令所包含的动态函数库<br>ldd -v /usr/bin/make    #详细查看该命令所包含的动态函数库<br>ldd /lib/libc.so.6           #也可以查看与某个函数库相关的函数库  </p>
</blockquote>
<p>4、安装  </p>
<blockquote>
<p>缺什么就装什么  </p>
</blockquote>
</blockquote>
</blockquote>
<p>tarball编译：C语言源码：*.c ———&gt;目标文件*.o————-&gt;执行文件  </p>
<blockquote>
<p>1、configure  建立makefile文件  </p>
<blockquote>
<p>参数：–help  </p>
<blockquote>
<p> –prefix<br><a target="_blank" rel="noopener" href="http://hi.baidu.com/issweight/item/f9d1b49da703d0df7a7f01c2">#查看 configure参数</a>  </p>
</blockquote>
</blockquote>
<p>2、make clean  </p>
<blockquote>
<p>清除*.o文件<br>由于make一次后，编译过的*.o在下次make时不会再编译，所以先清除好重新编译  </p>
</blockquote>
<p>3、make  </p>
<blockquote>
<p>gcc语法  </p>
<blockquote>
<p>gcc -c hello.c                   #编译成目标文件：hello.o<br>gcc -o hello  hello.o         #编译成执行文件：hello<br>其他参数：<br>gcc -O -c hello.c              #优化编译<br>gcc -Wall -o hello.c          #产生相信编译过程信息<br>gcc abc.c -lm -L/usr/lib -I/usr/include  </p>
<blockquote>
<p>#-l：加入某个函数库<br>#m：libm.so：加入这个函数库<br>#-L：函数库的地址<br>#-I：源码位置  </p>
</blockquote>
</blockquote>
<p>makefile语法规则  </p>
<blockquote>
</blockquote>
</blockquote>
<blockquote>
<p>make参数  </p>
<blockquote>
<p>CFLAGS=”-Wall” make    #同gcc -Wall  </p>
</blockquote>
</blockquote>
<p>4、make install  </p>
<blockquote>
<p>其实就是把编译好的文件放到相关目录下  </p>
</blockquote>
<p>5、在/etc/man.config中添加man文件地址  </p>
<blockquote>
</blockquote>
<p>6、升级  </p>
<blockquote>
<p>patch -p 0 &lt; patch文件                #p 0 表示去掉几个/，如/home/a/b/c   p4 就是c<br>编译安装  </p>
</blockquote>
<p>7、软件的删除  </p>
<blockquote>
<p>将目录下的相关文件删除即可，看一下install到哪里就到哪里删除  </p>
</blockquote>
</blockquote>
<p>其他命令  </p>
<blockquote>
<p>md5sum ：算md5码</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zorroye.github.io/posts/3244904808/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ZorroYe">
      <meta itemprop="description" content="升级认知，看透本质">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye's Blog">
    </span>

    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/3244904808/" class="post-title-link" itemprop="url">鸟哥基础第十八章-grub</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2012-10-01 07:34:00" itemprop="dateCreated datePublished" datetime="2012-10-01T07:34:00+08:00">2012-10-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-04 14:44:13" itemprop="dateModified" datetime="2020-08-04T14:44:13+08:00">2020-08-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/%E9%B8%9F%E5%93%A5%E7%9A%84%E7%A7%81%E6%88%BF%E8%8F%9C/" itemprop="url" rel="index"><span itemprop="name">鸟哥的私房菜</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>硬盘分区表结构：  </p>
<blockquote>
<p>主引导记录MBR  </p>
<blockquote>
<p>bootlader：446B<br>DPT：64B<br>magic number：2B ______ 以上共512B  </p>
</blockquote>
<p>stage1.5：32K  </p>
</blockquote>
<blockquote>
<p>分区1<br>分区2<br>分区3<br>分区4  </p>
</blockquote>
<p>GRUB  </p>
<blockquote>
<p>/boot/grub里面包含  </p>
<blockquote>
<p>引导程序：stage1、stage2</p>
</blockquote>
<blockquote>
<p>启动设备信息：device.map  </p>
</blockquote>
<blockquote>
<p>文件系统：iso9660、ufs、xfs、fat、jfs、e2fs等<br>启动选项：menu.lst 。menu.lst是指向grub.conf的<br>启动选项背景：splash.xpm.gz  </p>
</blockquote>
<p>grub.conf  </p>
<blockquote>
<p>cat grub.conf | egrep -v ‘^#|^$’<br>default=0                                                               #按菜单第一行启动：就是2.6…FC4smp<br>timeout=5                                                              #等待时间：5秒<br>splashimage=(hd0,0)/boot/grub/splash.xpm.gz    #背景图片<br>hiddenmenu                                                          #隐藏菜单<br>title Fedora Core (2.6.11-1.1369_FC4smp)<br>        root (hd0,0)                                                  <br>        kernel /boot/vmlinuz-2.6.11-1.1369_FC4smp ro root=LABEL=/ rhgb quiet<br>        initrd /boot/initrd-2.6.11-1.1369_FC4smp.img<br>title Fedora Core-up (2.6.11-1.1369_FC4)<br>        root (hd0,0)<br>        kernel /boot/vmlinuz-2.6.11-1.1369_FC4 ro root=LABEL=/ rhgb quiet<br>        initrd /boot/initrd-2.6.11-1.1369_FC4.img  </p>
<blockquote>
<p>说明：<br>root (hd0,0)                                                   </p>
<blockquote>
<p>#这里的root表示核心在哪个位置。也就是/boot在哪个位置  </p>
</blockquote>
<p>kernel /boot/vmlinuz-2.6.11-1.1369_FC4smp ro root=LABEL=/ rhgb quiet  </p>
<blockquote>
<p>#这里的root表示/分区在哪个位置。可以用root=/dev/sda1代替  </p>
</blockquote>
</blockquote>
<blockquote>
</blockquote>
<p>其他选项;  </p>
<blockquote>
<p>unhide (hd0,1)            #显示/dev/hda2<br>hide (hd0,4)                #隐藏/dev/hda5<br>rootnoverify (hd0,0)    #不检查/dev/hda1<br>chainloader +1            #表示打开/dev/hda2的第一个扇区  </p>
</blockquote>
<blockquote>
<p>makeactive                  #设置为活动分区  </p>
</blockquote>
</blockquote>
<p>grub shell  </p>
<blockquote>
<p>grub 进入grub shell<br>help查看所有命令<br>root (hd0,0)：                 查找含有/boot的分区<br>find /boot/grub/stage1**+[tab]** ：查找是否存在stage1文件<br>setup (hd0) ：                 安装到MBR中<br>setup (hd0,0)：               安装到第一个分区的第一个扇区中</p>
</blockquote>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zorroye.github.io/posts/1341421006/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ZorroYe">
      <meta itemprop="description" content="升级认知，看透本质">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye's Blog">
    </span>

    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/1341421006/" class="post-title-link" itemprop="url">鸟哥基础第十八章-内核模块</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2012-09-30 17:22:00" itemprop="dateCreated datePublished" datetime="2012-09-30T17:22:00+08:00">2012-09-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-04 14:44:13" itemprop="dateModified" datetime="2020-08-04T14:44:13+08:00">2020-08-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/%E9%B8%9F%E5%93%A5%E7%9A%84%E7%A7%81%E6%88%BF%E8%8F%9C/" itemprop="url" rel="index"><span itemprop="name">鸟哥的私房菜</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>模块：<br>模块就是一些能实现某些功能的目标文件，也就是.o文件。<br>模块只供内核使用。<br>模块不被连接成可执行文件是因为他的连接对象是正在运行的内核<br>模块存放位置/lib/modules<br>模块有很多功能，包括硬件驱动模块、加密模块、压缩算法模块、防火墙模块等  </p>
<blockquote>
<p>arch         #有关CPU等项目<br>crypto      #加密相关<br>drivers     #有关驱动，还有防火墙等<br>fs             #有关文件系统<br>lib            #zlib等一些函数库<br>net           #网络协议等<br>sound      #声卡驱动，音效等  </p>
</blockquote>
<p>模块的操作命令：lsmod、modinfo、insmod、rmmod、modprobe  </p>
<blockquote>
<p>lsmod：  </p>
<blockquote>
<p>nvidia              11259462  24<br>模块                占用空间   有24个其他模块用到nvidia  </p>
</blockquote>
<p>modinfo nvidia  </p>
<blockquote>
<p>查看模块信息  </p>
</blockquote>
<p>modprobe  </p>
<blockquote>
<p>找出所有跟nvidia有关的模块<br>modprobe -lt video | grep nvidia       </p>
<blockquote>
<p>kernel/drivers/video/backlight/mbp_nvidia_bl.ko<br>kernel/drivers/video/nvidia/nvidiafb.ko  </p>
</blockquote>
</blockquote>
<blockquote>
<p>modprobe通过调用modules.dep文件来解决模块依赖性问题<br>查看模块的依赖性。<br>grep nvidia /lib/modules/2.6.32-44-generic/modules.dep  </p>
<blockquote>
<p>kernel/drivers/video/backlight/mbp_nvidia_bl.ko:<br>kernel/drivers/video/nvidia/nvidiafb.ko: kernel/drivers/video/fb_ddc.ko<br>kernel/drivers/i2c/algos/i2c-algo-bit.ko kernel/drivers/video/vgastate.ko<br>updates/dkms/nvidia.ko:<br>#：表示后面的模块要先加载，也就是依赖性<br>我们可以看出加载nvidiafb.ko之前要先加载：  </p>
<blockquote>
<p>kernel/drivers/video/fb_ddc.ko<br>kernel/drivers/i2c/algos/i2c-algo-bit.ko<br>kernel/drivers/video/vgastate.ko  </p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>模块参数设置：modprobe、/etc/modules.conf  </p>
<blockquote>
<p>/etc/modules.conf  </p>
</blockquote>
<blockquote>
<blockquote>
<p>options cx88_alsa index=-2    #给cx88_alsa模块一个参数：index=-2<br>alias eth0 pcnet32                  #pcnet32一个通用的名字：eth0  </p>
</blockquote>
<p>如 modprobe cx88_alsa index=-3 ，则modules.conf不起作用<br>modprobe设置的参数具有优先权<br>更改/etc/modules.conf文件后，需要使用modules-update来更新。  </p>
</blockquote>
<p>模块依赖性文件：modules.dep  </p>
<blockquote>
<p>modules.dep文件格式  </p>
</blockquote>
<blockquote>
<blockquote>
<p>kernel/drivers/video/nvidia/nvidiafb.ko: kernel/drivers/video/fb_ddc.ko  …  </p>
</blockquote>
</blockquote>
<blockquote>
<p>modules.dep建立命令：depmod  </p>
<blockquote>
<p>depmod -a：更新模块依赖性文件modules.dep<br>depmod -A：扫描出新模块才更新<br>depmod -n：扫描后不写入modules.dep，而是输出到屏幕上<br>depmod -e：显示当前加载的模块中已不能用的  </p>
</blockquote>
</blockquote>
<blockquote>
<p>我们编译好模块后，放入/lib/modules/下面，然后depmod -a，新模块就记录到modules.dep下面了  </p>
</blockquote>
<blockquote>
<p>然后，加载的话：“modprobe 模块”即可。自动加载的话写入/etc/modprobe.conf<br>核心需要哪些模块的话也会主动去加载模块的。</p>
</blockquote>
<p>内核  </p>
<p>内核是linux中唯一能访问硬件资源的软件<br>由于内核用不到很多功能，所以就做成模块，用的时候再调用。  </p>
<blockquote>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zorroye.github.io/posts/3940253776/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ZorroYe">
      <meta itemprop="description" content="升级认知，看透本质">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye's Blog">
    </span>

    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/3940253776/" class="post-title-link" itemprop="url">鸟哥基础第十八章-启动流程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2012-09-29 21:46:00" itemprop="dateCreated datePublished" datetime="2012-09-29T21:46:00+08:00">2012-09-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-04 14:44:13" itemprop="dateModified" datetime="2020-08-04T14:44:13+08:00">2020-08-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/%E9%B8%9F%E5%93%A5%E7%9A%84%E7%A7%81%E6%88%BF%E8%8F%9C/" itemprop="url" rel="index"><span itemprop="name">鸟哥的私房菜</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>14 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>启动流程补充：  </p>
<blockquote>
<p>电脑开机<br>|<br>CPU，北桥运行<br>|<br>BIOS在flash memory运行<br>|<br>BIOS检测硬件<br>|<br>BIOS读取CMOS中的用户设定<br>|<br>BIOS信息整合成SMBIOS写入内存中<br>|<br>BIOS自解压到内存中<br>|<br>BIOS启动POST程序  </p>
<blockquote>
<p>初始化各种主板芯片组</p>
</blockquote>
<blockquote>
<p>初始化键盘控制器8042.</p>
<p>初始化中断向量,中断服务例程.<br>初始化VGA BIOS控制器<br>显示BIOS的版本和公司名称<br>扫描软驱和各种介质容量<br>读取CMOS的启动顺序配置，并检测启动装置是否正常  </p>
</blockquote>
<p>|<br>BIOS将所有检测到的临时设备信息写入SMBIOS___________^__以上只能通过诊断卡查看错误信息。<br>|<br>BIOS调用INT 19H的2号功能来读出硬盘MBR扇区的内容,将其读入到内存0000:7C00h,并跳转至此处执行<br>|<br>BIOS启动MBR上面的引导程序stage1<br>|<br>引导程序加载stage1.5<br>|<br>引导程序通过stage1.5识别文件系统，并加载文件系统中的stage2<br>|<br>stage2加载grub.conf配置文件<br>|<br>通过配置文件加载kernel和initrd  </p>
</blockquote>
<blockquote>
<p>资料来源：  </p>
</blockquote>
<blockquote>
<p>linux操作系统之奥秘  </p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://zhumeng8337797.blog.163.com/blog/static/1007689142011828012299/">http://zhumeng8337797.blog.163.com/blog/static/1007689142011828012299/</a><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/kendyhj9999/article/details/7293925">http://blog.csdn.net/kendyhj9999/article/details/7293925</a></p>
</blockquote>
<p>启动流程  </p>
<blockquote>
<p>1、开机后，BIOS读取CMOS的信息，然后BIOS里的自检程序对硬件进行自检，自检确定可启动的设备后，<br>      通过刚才从CMOS里获取的第一个启动设备的代号，去读第一个启动设备的MBR<br>2、MBR里面存有引导程序，引导程序里面记录了linux核心（vmlinuz）和initrd.img的存放地址，<br>      引导程序通过这个地址来加载linux核心<br>3、linux核心解压缩到内存中，并通过initrd.img来建立虚拟盘，虚拟盘加载驱动，并读取BIOS的硬件信息交给核心，<br>      linux核心检测所有硬件并从虚拟盘中加载驱动<br>4、linux核心加载完驱动后删除虚拟盘，并执行第一个程序/sbin/init<br>5、init：  </p>
<blockquote>
<p>程序：/sbin/init<br>配置：/etc/inittab  </p>
<blockquote>
<p>cat /etc/inittab | grep -v ^# | grep -v ^$<br>id:5:initdefault:                            #默认是按5来启动，initdefault:表示默认运行等级<br>si::sysinit:/etc/rc.d/rc.sysinit        #启动服务前先根据/etc/rc.d/rc.sysinit进行检测和设置<br>l0:0:wait:/etc/rc.d/rc 0                 #sysinit：表示系统初始化操作项目<br>l1:1:wait:/etc/rc.d/rc 1                 #wait：后面的接的项目必须执行完才能继续<br>l2:2:wait:/etc/rc.d/rc 2<br>l3:3:wait:/etc/rc.d/rc 3<br>l4:4:wait:/etc/rc.d/rc 4<br>l5:5:wait:/etc/rc.d/rc 5                                 #就是按这个启动相关的服务<br>l6:6:wait:/etc/rc.d/rc 6<br>ca::ctrlaltdel:/sbin/shutdown -t3 -r now       #按crtl+alt+del重启<br>pf::powerfail:/sbin/shutdown -f -h +2 “Power Failure; System Shutting Down”<br>#接UPS后的设置<br>pr:12345:powerokwait:/sbin/shutdown -c “Power Restored; Shutdown Cancelled”<br>#接UPS后的设置<br>1:2345:respawn:/sbin/mingetty tty1            #开启6个tty终端，respawn表示不能结束终端，<br>2:2345:respawn:/sbin/mingetty tty2            #结束后会自动开起来<br>3:2345:respawn:/sbin/mingetty tty3<br>4:2345:respawn:/sbin/mingetty tty4<br>5:2345:respawn:/sbin/mingetty tty5<br>6:2345:respawn:/sbin/mingetty tty6<br>x:5:once:/etc/X11/prefdm -nodaemon         #按5启动的话开启X11  </p>
</blockquote>
</blockquote>
<p>5.1、/etc/rc.d/rc.sysinit                                                  #<a target="_blank" rel="noopener" href="http://www.byywee.com/page/M0/S611/611349.html">rc.sysinit详解</a></p>
<blockquote>
<p>首先/etc下面也有很多rc目录，但都是链接文件，链接到/etc/rc.d目录里面  </p>
<blockquote>
<p>ls -l /etc | grep rc | awk ‘{print $9 $10 $11}’ | grep -v ^$<br>init.d-&gt;rc.d/init.d<br>rc-&gt;rc.d/rc<br>rc0.d-&gt;rc.d/rc0.d<br>rc1.d-&gt;rc.d/rc1.d<br>rc2.d-&gt;rc.d/rc2.d<br>rc3.d-&gt;rc.d/rc3.d<br>rc4.d-&gt;rc.d/rc4.d<br>rc5.d-&gt;rc.d/rc5.d<br>rc6.d-&gt;rc.d/rc6.d<br>rc.d<br>rc.local-&gt;rc.d/rc.local<br>rc.sysinit-&gt;rc.d/rc.sysinit<br>所以实质上，所有的rc配置文件都放在/etc/rc.d目录下  </p>
</blockquote>
<p>这个配置文件有600多行，服务相关配置文件全部存放在/etc/sysconfig里，任务有：  </p>
<blockquote>
<p>设置网络<br>给HOSTNAME赋值<br>加载/proc<br>加载/usb驱动<br>加载/sys<br>运行/etc/init.d/functions    #<a target="_blank" rel="noopener" href="http://kangpeng.sinaapp.com/?p=24">functions文件详解</a><br>检测是否开启SElinux<br>屏幕默认字体设置<br>屏幕上输出：welcome to 什么什么<br>设置日志级别  </p>
</blockquote>
<blockquote>
<p>*给cmdline赋值<br>开始接口设备检测：  </p>
<blockquote>
<p>IDE<br>SCSI<br>network<br>sound<br>其他  </p>
</blockquote>
<p>加载用户自定义模块：/etc/sysconfig/modules/*.modules<br>加载模块：/etc/rc.modules，这个模块fedora4里面没找到<br>挂载/dev/pts<br>配置核心设置值/etc/sysctl.conf<br>设置系统时间<br>设置主机名<br>设置ACPI<br>确定是否进行fsck<br>设置RAID<br>设置LVM2<br>卸载initrd<br>进行quota转换<br>以读写方式挂载根目录：/<br>*清除selinux<br>清除/etc/mtab<br>挂载信息重新写入/etc/mtab  </p>
<blockquote>
<p>/<br>/proc<br>/sys<br>/dev/pts<br>/proc/bus/usb  </p>
</blockquote>
<p>挂载所有其他文件系统，并开启quota<br>??<br>??<br>启动随机数<br>对系统进行重新设置<br>清除临时文件<br>将启动信息写入到/var/log/dmesg<br>告知已离开rc.sysinit  </p>
</blockquote>
</blockquote>
<p>5.2、/etc/rc.d/rc5.d  </p>
<blockquote>
<blockquote>
<p>该目录下的文件全部都是链接文件，全部链接到/etc/init.d下面，而/etc/init.d是链接到/etc/rc.d/init.d的<br>所以，该目录下所有文件都是链接到/etc/rc.d/init.d。该目录就是启动相关服务的作用。<br>/etc/init.d里面是脚本，而/etc/sysconfig/里面是这些脚本的设置文件<br><a target="_blank" rel="noopener" href="http://www.cnblogs.com/hbycool/articles/2207103.html">#服务详解</a><br>S：表示开机时启动，数字表示启动顺序  </p>
<blockquote>
<p>ls | sort<br>S03vmware-tools<br>S05kudzu               #硬件检测，硬件不经常更新建议关闭<br>S06cpuspeed        #动态调节cpu速度来节能<br>S08iptables<br>S09isdn                 #isdn用户用的<br>S09pcmcia            #支持笔记本接口<br>S10network<br>S12syslog<br>S13portmap<br>S14nfslock<br>S15mdmonitor        #监测RAID和lvm的信息<br>S18auditd               #kernel的审计<br>S18rpcidmapd        #用于nfs<br>S19rpcgssd            #用于nfs<br>S25bluetooth<br>S25netfs<br>S26apmd<br>S28autofs<br>S30nscd                 #为nis、ldap提供更快的验证<br>S33nifd<br>S34mDNSResponder<br>S44acpid<br>S55cups<br>S55sshd<br>S80sendmail<br>S85gpm                  #支持鼠标<br>S87iiim                    #中文输入法<br>S90crond<br>S90xfs<br>S95anacron<br>S95atd<br>S97messagebus       #IPC进程间通信<br>S97rhnsd                  #通知官方的安全信息以及为系统打补丁<br>S98cups-config-daemon<br>S98haldaemon<br>S99local                    #用户自定义开机启动的程序  </p>
</blockquote>
<p>K表示关机时关闭的服务  </p>
<blockquote>
<p>K01yum<br>K02NetworkManager<br>K02NetworkManagerDispatcher<br>K05saslauthd                     #sasl认证<br>K10psacct                          #监测进程<br>K20nfs<br>K24irda<br>K30spamassassin<br>K35vncserver<br>K35winbind<br>K50netdump<br>K69rpcsvcgssd<br>K73ypbind<br>K74ntpd<br>K85mdmpd<br>K89named<br>K89netplugd                       #检测网络接口<br>K89rdisc<br>K94diskdump  </p>
</blockquote>
</blockquote>
<blockquote>
<p>另外应该还会启动xinetd  </p>
<blockquote>
<p>里面包含验证等服务：  </p>
<blockquote>
<p>cvs<br>eklogin<br>gssftp<br>klogin<br>krb5-telnet<br>kshell<br>rsync  </p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>5.3、/etc/X11/prefdm            #<a target="_blank" rel="noopener" href="http://www.jcwcn.com/article-20906-1.html">详解</a></p>
<blockquote>
<p>设置是否自动登录<br>选择界面  </p>
</blockquote>
<p>6、开启/bin/login  </p>
<p>7、登录后由shell控制主机</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zorroye.github.io/posts/3510056611/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ZorroYe">
      <meta itemprop="description" content="升级认知，看透本质">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye's Blog">
    </span>

    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/3510056611/" class="post-title-link" itemprop="url">鸟哥基础第十七章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2012-09-27 11:23:00" itemprop="dateCreated datePublished" datetime="2012-09-27T11:23:00+08:00">2012-09-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-04 14:44:13" itemprop="dateModified" datetime="2020-08-04T14:44:13+08:00">2020-08-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/%E9%B8%9F%E5%93%A5%E7%9A%84%E7%A7%81%E6%88%BF%E8%8F%9C/" itemprop="url" rel="index"><span itemprop="name">鸟哥的私房菜</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>963</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>系统本身的服务，由ps、top等查看、管理；提供外部的网络服务，由netstat等查看、管理。<br>二十一章是网络服务，而下面的都是系统服务。  </p>
<p>PID：  </p>
<blockquote>
<p>pid是根据用户的相关uid\gid计算出来的，用户的权限就是pid决定的<br>ppid：父进程  </p>
</blockquote>
<p>作业管理：  </p>
<blockquote>
<p>jobs：          查看后台作业数<br>&amp;：              将任务放到后台执行<br>fg 作业号 ： 将任务从后台拿到前台来执行<br>ctrl+z：        将任务放到后台暂停<br>bg 作业号： 将后台暂停的作业执行起来  </p>
</blockquote>
<blockquote>
<p>kill 删除作业  </p>
<blockquote>
<p>kill -1 作业号：重启作业<br>kill -9 作业号 ：强制删除<br>kill -15 作业号：正常终止  </p>
</blockquote>
</blockquote>
<p>进程管理  </p>
<blockquote>
<p>查看：ps 、top 、pstree  </p>
<blockquote>
<p>ps -l：查看pid详细信息  </p>
<p><img src="http://img5.ph.126.net/rrKT1xL6p3Ho7EDM9aDaBA==/1591178043362340965.jpg" alt="鸟哥基础第十七章 - leaf - ------坚持雅操------" title="鸟哥基础第十七章 - leaf - ------坚持雅操------"></p>
<blockquote>
<p>S是状态：R：run 正在运行  S：sleep 睡眠状态<br>ADDR：    -：表示正在运行<br>WCHAN： -：表示正在运行  </p>
</blockquote>
<p>top -d 2 -p 4121  </p>
<p><img src="http://img2.ph.126.net/pCEoPAZcCc3t6Zsa5DByDg==/2655153455329455852.jpg" alt="鸟哥基础第十七章 - leaf - ------坚持雅操------" title="鸟哥基础第十七章 - leaf - ------坚持雅操------"></p>
<blockquote>
<p>最上面是总的信息，最下面一行是跟踪的进程  </p>
</blockquote>
<blockquote>
<p>top -d   表示多少时间更新一次<br>top -p   专门查看某个进程<br>top -n   设置更新几次<br>top -b   就是把top的内容输出，保存到文件  </p>
</blockquote>
<p>pstree -Aup  </p>
<blockquote>
<p>列出当前进程树，并显示PID和所属的账户  </p>
</blockquote>
</blockquote>
<p>删除：kill    </p>
<blockquote>
<p>同作业管理  </p>
</blockquote>
<p>执行顺序：nice、renice  </p>
<blockquote>
<p>调整优先级用  </p>
<blockquote>
<p>优先级是个不断变化的值：最新优先级=原优先级+nice值<br>root可用范围：负20~正19  </p>
</blockquote>
</blockquote>
<p>进程-文件相互查找：fuser、lsof、pidof  </p>
<blockquote>
<p>fuser 通过目录查正在使用该目录的进程号  </p>
<blockquote>
<p>fuser -k ：删除进程号  </p>
</blockquote>
</blockquote>
<blockquote>
<p>lsof：通过进程找出在用的文件  </p>
<blockquote>
<p>lsof -u ：查找某个用户名所打开的文件<br>lsof +d ：查处某个目录下所有打开的文件  </p>
</blockquote>
<p>pidof：通过进程找出pid  </p>
</blockquote>
</blockquote>
<p>系统资源观察  </p>
<blockquote>
<p>free、uname、uptime、dmesg、sar、netstat、/proc/  </p>
</blockquote>
<blockquote>
<p>uname ：查看系统核心等信息  </p>
<blockquote>
<p>-a：linux版本、CPU类型等信息<br>-r：linux  </p>
</blockquote>
<p>dmesg：查看开机启动的信息  </p>
<p>sar：主要是查看cpu的状态  </p>
<p>netstat：网络状况  </p>
<blockquote>
<p>netstat -a 所有tcp/udp连接状况、套接字状况等<br>netstat -t tcp<br>netstat -u udp<br>netstat -p 列出pid号<br>netstat -n 已端口号来显示<br>netstat -l  列出正在监听的服务  </p>
<p>netstat -tulnp 查看tcp/udp的连接信息  </p>
</blockquote>
<blockquote>
</blockquote>
<p>/proc目录：前面查看系统信息多是在这个目录里面取出来的。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zorroye.github.io/posts/53952828/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ZorroYe">
      <meta itemprop="description" content="升级认知，看透本质">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye's Blog">
    </span>

    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/53952828/" class="post-title-link" itemprop="url">鸟哥基础第十六章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2012-09-25 10:12:00" itemprop="dateCreated datePublished" datetime="2012-09-25T10:12:00+08:00">2012-09-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-04 14:44:13" itemprop="dateModified" datetime="2020-08-04T14:44:13+08:00">2020-08-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/%E9%B8%9F%E5%93%A5%E7%9A%84%E7%A7%81%E6%88%BF%E8%8F%9C/" itemprop="url" rel="index"><span itemprop="name">鸟哥的私房菜</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>at  </p>
<blockquote>
<p>命令：               /usr/bin/at  </p>
</blockquote>
<blockquote>
<p>服务atd：          /etc/init.d/atd<br>使用限制：        /etc/at.deny          /etc/at.allow是不存在的可以新建一个，<br>任务存放目录： /var/spool/at         ug都是daemon，是由守护进程inet负责处理的<br>相关命令：  </p>
<blockquote>
<p>at  </p>
<blockquote>
<p>at 9:10  </p>
<blockquote>
<p>/bin/sync  </p>
</blockquote>
<blockquote>
<p>ctrl+d  </p>
</blockquote>
<p>#这个命令，如果时间已经过了，则下一天再运行  </p>
<p>at 9:10 2012-09-25  </p>
<blockquote>
<p>/bin/sync<br>ctrl+d  </p>
</blockquote>
<p>#这个命令，强制在这个时间执行，如果设置的时间已经过了，则任务就没了<br>如现在9：30，如果设置9：00的话，用atq是找不到这个任务的  </p>
</blockquote>
</blockquote>
<blockquote>
<p>atq                              查看有多少任务<br>atrm 任务号                删除任务  </p>
</blockquote>
</blockquote>
<p>crontab  </p>
<blockquote>
<p>命令：                /usr/bin/crontab  </p>
</blockquote>
<blockquote>
<p>服务crond：      /etc/init.d/crond<br>使用限制：        /etc/cron.deny<br>任务存放目录： /var/spool/cron/             用户的任务  </p>
<blockquote>
<blockquote>
<blockquote>
<p>/etc/crontab                  系统的任务，由于不止一个，所以把任务放在目录里，直接执行目录<br>/etc/cron.daily<br>/etc/cron.hourly<br>/etc/cron.monthly<br>/etc/cron.weekly  </p>
</blockquote>
</blockquote>
</blockquote>
<p>任务执行记录： /var/log/cron 下<br>crontab格式：  </p>
<blockquote>
<p>[root@localhost cron]# cat /etc/crontab<br>SHELL=/bin/bash<br>PATH=/sbin:/bin:/usr/sbin:/usr/bin<br>MAILTO=root<br>HOME=/  </p>
<p># run-parts<br>01 * * * * root run-parts /etc/cron.hourly<br>02 4 * * * root run-parts /etc/cron.daily<br>22 4 * * 0 root run-parts /etc/cron.weekly<br>42 4 1 * * root run-parts /etc/cron.monthly<br>#分 时 日 月 周<br>#run-parts：执行目录下所有脚本的意思  </p>
</blockquote>
<p>相关命令  </p>
</blockquote>
<blockquote>
<blockquote>
<p>crontab -e   编辑命令，一个命令一行(增删多可以)<br>crontab -l    查看命令<br>crontab -r   删除所有任务 就相当于把/var/spool/cron/账户 这个文件删除  </p>
</blockquote>
<p>补充：20130923  </p>
<blockquote>
<p>用户的cron配置：保存在/var/spool/cron<br>系统的cron配置：保存在/etc/crontab<br>run-parts：后接文件或文件夹  </p>
</blockquote>
<blockquote>
</blockquote>
<p>列子：<br>touch ~/test.sh<br>chmod 755 test.sh<br>vi test.sh  </p>
<blockquote>
<p>#!/bin/bash<br>/bin/touch  ~/`date +%Y%m%d%H%M`  </p>
</blockquote>
<p>crontab -e  </p>
<blockquote>
<p>*/1 * * * *  /home/leaf/test.sh  </p>
</blockquote>
<p>sudo /etc/init.d/crond restart<br>效果：  </p>
<p><img src="http://img7.ph.126.net/kn8-SzwWOoq-4tQffpOqNA==/6597419411354177057.jpg" alt="鸟哥基础第十六章 - leaf - ------坚持雅操------" title="鸟哥基础第十六章 - leaf - ------坚持雅操------"></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zorroye.github.io/posts/1715014373/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ZorroYe">
      <meta itemprop="description" content="升级认知，看透本质">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye's Blog">
    </span>

    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/1715014373/" class="post-title-link" itemprop="url">鸟哥基础第十五章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2012-09-24 16:17:00" itemprop="dateCreated datePublished" datetime="2012-09-24T16:17:00+08:00">2012-09-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-04 14:44:13" itemprop="dateModified" datetime="2020-08-04T14:44:13+08:00">2020-08-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/%E9%B8%9F%E5%93%A5%E7%9A%84%E7%A7%81%E6%88%BF%E8%8F%9C/" itemprop="url" rel="index"><span itemprop="name">鸟哥的私房菜</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>980</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>首先是分区  </p>
<blockquote>
<p>su<br>fdisk -l             查看当前所有分区  </p>
<p><img src="http://img3.ph.126.net/QAqxCcW2i4IQYZqSoYDRiQ==/206884107899483713.jpg" alt="鸟哥基础第十五章 - leaf - ------坚持雅操------" title="鸟哥基础第十五章 - leaf - ------坚持雅操------"></p>
<blockquote>
<p> 由于原先没分扩展分区，所以成1、2、3了  </p>
</blockquote>
<p>fdisk /dev/sda<br>m     查看分区命令<br>p      和fdisk -l相同<br>n      新建分区  </p>
<blockquote>
<p>提示建主分区还是扩展分区，我选e，扩展分区，并选了全部剩余容量  </p>
</blockquote>
<p>n      再新建分区，选了全部剩余容量<br>p      再查看的时候就有新分区了  </p>
<blockquote>
<p><img src="http://img8.ph.126.net/meamGjfknSjsQ3s8mh8nmA==/1553178921507229398.jpg" alt="鸟哥基础第十五章 - leaf - ------坚持雅操------" title="鸟哥基础第十五章 - leaf - ------坚持雅操------"></p>
</blockquote>
<p> w      保存  </p>
</blockquote>
<p>格式化分区  </p>
<blockquote>
<p>mkfs.ext3 -L “quota” /dev/sda5  </p>
</blockquote>
<p>挂载和开机自动挂载  </p>
<blockquote>
<p>mkdir -m 777 /media/disk  </p>
</blockquote>
<blockquote>
<p>mount -t ext3 /dev/sda5 /media/disk  </p>
</blockquote>
<blockquote>
<p>cat /etc/mtab能看到记录了：/dev/sda5 /media/disk ext3 rw 0 0  </p>
<p>自动挂载就是把这个记录写在/etc/fstab里面<br>LABEL=/quota            /media/disk             ext3    defaults,usrquota,grpquota 1 2  </p>
<p>然后用remount -a测试一下，以防止写错。  </p>
<blockquote>
<p>如果没测试就重启，万一写错的话就会进入单用户模式，用以下命令重新加载了再修改  </p>
</blockquote>
<blockquote>
<p>mount -n -o remount,rw /  </p>
</blockquote>
<p>重启后可用  </p>
<p><img src="http://img8.ph.126.net/R_vXbDifxixP63I_wFGquQ==/6597137936378477398.jpg" alt="鸟哥基础第十五章 - leaf - ------坚持雅操------" title="鸟哥基础第十五章 - leaf - ------坚持雅操------"></p>
<p> </p>
</blockquote>
<p>配额相关操作  </p>
<blockquote>
<p>quotacheck -avug   扫描后会建2个文件：aquota.group  aquota.user  </p>
<blockquote>
<p>针对分区进行磁盘配额情况的扫描  </p>
</blockquote>
<blockquote>
<p>-a 扫描有配额参数的文件系统<br>-u 针对用户扫描的情况，建aquota.usr<br>-g 针对用户组扫描的情况，建aquota.group<br>-v  查看<br>-m 强制扫描  </p>
<p><img src="http://img0.ph.126.net/xvsG5iSxAi7BZR5TwqoaBQ==/6597339147006348650.jpg" alt="鸟哥基础第十五章 - leaf - ------坚持雅操------" title="鸟哥基础第十五章 - leaf - ------坚持雅操------"></p>
<p>   </p>
</blockquote>
<p>quotaon -avug  </p>
<blockquote>
<p>启动配额，关闭是quotaoff -a  </p>
<p><img src="http://img9.ph.126.net/ZW_HFnNNZsLbAhfqPZTkGw==/1347139238555032639.jpg" alt="鸟哥基础第十五章 - leaf - ------坚持雅操------" title="鸟哥基础第十五章 - leaf - ------坚持雅操------"></p>
<p>   </p>
</blockquote>
<p>建账户  </p>
<blockquote>
<p>groupadd qgroup<br>useradd -m -g qgroup quser1<br>useradd -m -g qgroup quser2<br>passwd quser1<br>passwd quser2  </p>
</blockquote>
<p>设置用户配额  </p>
<blockquote>
<p>edquota -u quser1                     是用vi操作的，设置配额<br>edquota -p quser1 quser2         -p：copy   复制权限的意思<br>edquota -t                                  设置宽限时间<br>edquota -g qgroup                      设置用户组配额  </p>
</blockquote>
<p>查看配额情况  </p>
<blockquote>
<p>quota -vu  quser1 quser2<br>quota -vg  qgroup<br>repquota -av<br>quota 和 repquota 都是查看命令，效果差不多  </p>
</blockquote>
<blockquote>
</blockquote>
<p>自动启动设置  </p>
<blockquote>
<p>配额在开机时会随系统启动，所以不用设置<br>但是如何设置可以看一下：  </p>
<blockquote>
<p>vi /etc/rc.d/rc.local<br>/sbin/quotaon -avug  </p>
</blockquote>
</blockquote>
</blockquote>
<p>效果  </p>
<blockquote>
<p>80M-100M之间  </p>
<blockquote>
<p><img src="http://img1.ph.126.net/5iojTtFke-RqVqK9pVq9ig==/6597175319773821701.jpg" alt="鸟哥基础第十五章 - leaf - ------坚持雅操------" title="鸟哥基础第十五章 - leaf - ------坚持雅操------">  </p>
</blockquote>
<p>超出100M  </p>
<blockquote>
<p><img src="http://img6.ph.126.net/a7tx7xN4Kgvgg--UnkC5cw==/2630102182402203346.jpg" alt="鸟哥基础第十五章 - leaf - ------坚持雅操------" title="鸟哥基础第十五章 - leaf - ------坚持雅操------"></p>
</blockquote>
<p>   </p>
</blockquote>
<blockquote>
<blockquote>
</blockquote>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zorroye.github.io/posts/161992610/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ZorroYe">
      <meta itemprop="description" content="升级认知，看透本质">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye's Blog">
    </span>

    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/161992610/" class="post-title-link" itemprop="url">鸟哥基础第十四章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2012-09-21 15:41:00" itemprop="dateCreated datePublished" datetime="2012-09-21T15:41:00+08:00">2012-09-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-04 14:44:13" itemprop="dateModified" datetime="2020-08-04T14:44:13+08:00">2020-08-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/%E9%B8%9F%E5%93%A5%E7%9A%84%E7%A7%81%E6%88%BF%E8%8F%9C/" itemprop="url" rel="index"><span itemprop="name">鸟哥的私房菜</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>账户的配置文件  </p>
<blockquote>
<p>/etc/passwd  </p>
<blockquote>
<p>cat /etc/passwd | grep ^root  </p>
</blockquote>
<blockquote>
<blockquote>
<p>root:        x:           0:       0:         root:             /root:            /bin/bash<br>用户名    已加密   UID     GID     账户介绍      账户家目录    该账户用的shell  </p>
<blockquote>
<p>x：表示已加密，并且存放在/etc/shadow里面<br>UID、GID的ID号设置：/etc/login.defs<br>/root：是否建家目录：/etc/login.defs  </p>
<blockquote>
<p>  家目录所在位置：/etc/default/useradd   对root无效  </p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>/etc/shadow  </p>
</blockquote>
<blockquote>
<blockquote>
<p>cat /etc/shadow | grep ^root<br>root:$1$tl3LqaXl$7CJiLfD9fbWtPjDluR1TT0:15594:0:99999:7:7:16594:  </p>
</blockquote>
</blockquote>
<blockquote>
<p>root:      $1……T0:    15594:            0:            99999:                   7:                            7:                 16594:                       空<br>用户名      密码       最后一次     密码不可     密码必须要      密码到期警告           密码的失效时间     账户的失效日期         保留字段<br> 更改密码      更改的天     更改的天数     时间,到期前7天        到期后再过7天      这个是账户的失效<br> 的时间           数                                       提示                         才失效                  时间  </p>
</blockquote>
<blockquote>
<blockquote>
<p>密码的相关限制：/etc/login.defs  </p>
</blockquote>
<p>/etc/group  </p>
<blockquote>
<p>cat /etc/group | grep ^root</p>
</blockquote>
<blockquote>
<blockquote>
<p>root:x:0:root  </p>
</blockquote>
<blockquote>
<p>第4个字段的root表示，那个用户属于root用户组<br>第4个字段可以添加多个账户，但是只享受用户组的权限而不是用户的权限  root,test<br>查看、更改、离开有效用户组的方法  </p>
<blockquote>
<p>查看：groups<br>更改：newgrp  test<br>离开有效用户组：exit  </p>
</blockquote>
<p>切换用户组的条件：  </p>
<blockquote>
<p>用户组必须有密码<br>root必须在这个用户组里面  </p>
</blockquote>
</blockquote>
</blockquote>
<p>/etc/default/useradd  </p>
<blockquote>
<p># useradd defaults file<br>GROUP=100                    #默认的用户组<br>HOME=/home                   #家目录默认存放位置<br>INACTIVE=-1                    #密码失效时间<br>EXPIRE=                           #账户的失效时间<br>SHELL=/bin/bash              #默认的shell<br>SKEL=/etc/skel                 #给新账户预先设置的内容  </p>
</blockquote>
<p>/etc/login.defs  </p>
<blockquote>
<p>cat /etc/login.defs | grep -v ^# | grep -v ^$<br>MAIL_DIR        /var/spool/mail              #邮箱默认存放路径<br>PASS_MAX_DAYS   99999                       #密码必须更改的天数<br>PASS_MIN_DAYS   0                                #密码不可更改的天数<br>PASS_MIN_LEN    5                                 #密码最小长度<br>PASS_WARN_AGE   7                               #密码快到期之前7天警告<br>UID_MIN                   500<br>UID_MAX                 60000<br>GID_MIN                   500<br>GID_MAX                 60000<br>CREATE_HOME     yes                             #默认建家目录  </p>
</blockquote>
<p>/etc/skel/*  </p>
<blockquote>
<p>skel是目录，目录下放的所有文件，都会放到新用户的家目录里面  </p>
</blockquote>
<p>其他  </p>
<blockquote>
<p>/var/log/messages：所有操作记录<br>/var/log/secure：      权限的操作记录</p>
</blockquote>
</blockquote>
<p>账户操作的相关命令  </p>
<blockquote>
<p>useradd：  </p>
<blockquote>
<p>useradd -m name     建账户时建家目录<br>useradd -M name     建账户时不建家目录<br>useradd -d /tmp/home/name  name     建账户时指定家目录  </p>
</blockquote>
<p>usermod:  </p>
<blockquote>
<p>usermod -L name     冻结账户<br>usermod -U name     解锁账户<br>usermod -d /tmp/home/name -m name    新建家目录  </p>
</blockquote>
<p>passwd：  </p>
<blockquote>
<p>passwd -l name         冻结账户<br>passwd -u name        解锁账户<br>passwd -  </p>
</blockquote>
</blockquote>
<blockquote>
<p>userdel：  </p>
<blockquote>
<p>userdel -r name     账户连同该账户的家目录一起删除  </p>
</blockquote>
<p>pwck:  </p>
<blockquote>
<p>检查/etc/passwd /etc/shadow有没有语法错误  </p>
</blockquote>
<p>chpasswd：  </p>
<blockquote>
<p>echo “name:password” | chpasswd -m <br>以前面的格式读入，并以md5码加密明文密码，并存入/etc/shadow中  </p>
</blockquote>
<p>chage：  </p>
<blockquote>
<p>修改账户密码的时效  </p>
</blockquote>
<p>groupadd、groupmod、 groupdel、gpasswd、groups、newgrp<br>id：  </p>
<blockquote>
<p>id name ：查看uid、gid等信息  </p>
</blockquote>
<p>su、sudo：  </p>
<blockquote>
<p>su：要输入root密码<br>sudo：输入本账户密码即可  </p>
</blockquote>
<blockquote>
<p>在/etc/group里面加入账户，这个账户只有相关用户组的权限<br>而在/etc/sudoers里面加入账户后，能获取相应的权限，如能运行/sbin里面的命令等  </p>
</blockquote>
<p>/etc/sudoers  </p>
<blockquote>
<p># User privilege specification<br>root    ALL=(ALL) ALL              #拥有所有的权限  </p>
<p># Uncomment to allow people in group wheel to run all commands<br># %wheel        ALL=(ALL)       ALL      #用户组拥有所有的权限   </p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>#%wheel 表示用户组  </p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p># Same thing without a password<br># %wheel        ALL=(ALL)       NOPASSWD: ALL    #不用输入密码直接拥有所有的权限<br># Samples<br># %users  ALL=/sbin/mount /cdrom,/sbin/umount /cdrom<br># %users  localhost=/sbin/shutdown -h now  </p>
</blockquote>
<p>用户对话等命令  </p>
<blockquote>
<p>mesg、wall、talk、wrtie、mail  </p>
</blockquote>
</blockquote>
<p>pam模块  </p>
<blockquote>
<p>pam模块都存放在/lib/security目录中  </p>
<p><img src="http://img2.ph.126.net/KMpQogP6ns8pGlA0Z_aLfg==/6597866912586278182.jpg" alt="鸟哥基础第十四章 - leaf - ------坚持雅操------" title="鸟哥基础第十四章 - leaf - ------坚持雅操------"></p>
<p> <br>pam配置都存放在/etc/pam.d目录中  </p>
<p><img src="http://img1.ph.126.net/G9UPNWgFFCB0Ocxg1jxwEA==/6597841623818838691.jpg" alt="鸟哥基础第十四章 - leaf - ------坚持雅操------" title="鸟哥基础第十四章 - leaf - ------坚持雅操------"></p>
<p> <br>pam模块的相关说明都存放在/usr/share/doc/pam*的五个目录中  </p>
</blockquote>
<blockquote>
<p><img src="http://img7.ph.126.net/k5rxzcfeVhNZK7sjsSCdtQ==/6597180817331929947.jpg" alt="鸟哥基础第十四章 - leaf - ------坚持雅操------" title="鸟哥基础第十四章 - leaf - ------坚持雅操------"></p>
<p> <br>pam的验证类别和验证步骤过后的操作  </p>
<blockquote>
<p>验证类别：  </p>
<blockquote>
<p>auth：          用于用户密码验证<br>account：    用于用户使用权限的验证<br>session：    主要是记录相关操作  </p>
</blockquote>
<blockquote>
<p>password：主要是提供修改密码的验证  </p>
</blockquote>
<p>验证后的操作：  </p>
<blockquote>
<p>required：验证成不成功，后面的模块照样运行<br>requisite：验证不成功，   后面的模块就不再运行<br>sufficient：验证成功，      后面的模块就不再运行<br>optional：主要是记录信息用  </p>
</blockquote>
<p>/etc/pam.d/login的配置  </p>
<blockquote>
<p><img src="http://img3.ph.126.net/THMhANCWhqdyBpWKdG6SPQ==/6597925186702550563.jpg" alt="鸟哥基础第十四章 - leaf - ------坚持雅操------" title="鸟哥基础第十四章 - leaf - ------坚持雅操------"></p>
</blockquote>
<blockquote>
<p> <br>pam_securetty.so：用于预防不安全的登录  </p>
<blockquote>
<p>该模块会读取：/etc/securetty   </p>
</blockquote>
<blockquote>
<blockquote>
<p>里面设置的终端都是安全的，不在里面的都算不安全的<br>里面设置的终端能用root登录，里面没有的终端则不能用root登录  </p>
</blockquote>
</blockquote>
<p>pam_nologin.so：也是控制用户的登录，但对root没有效果  </p>
<p>其他pam相关的设置文件放在/etc/security/目录下</p>
</blockquote>
</blockquote>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zorroye.github.io/posts/3196769991/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ZorroYe">
      <meta itemprop="description" content="升级认知，看透本质">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye's Blog">
    </span>

    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/3196769991/" class="post-title-link" itemprop="url">鸟哥基础第十三章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2012-09-20 10:34:00" itemprop="dateCreated datePublished" datetime="2012-09-20T10:34:00+08:00">2012-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-04 14:44:13" itemprop="dateModified" datetime="2020-08-04T14:44:13+08:00">2020-08-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/%E9%B8%9F%E5%93%A5%E7%9A%84%E7%A7%81%E6%88%BF%E8%8F%9C/" itemprop="url" rel="index"><span itemprop="name">鸟哥的私房菜</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>961</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>shell脚本对于系统管理非常重要，不会写也至少要能读懂  </p>
<p>脚本开头有个特殊的注释：#!  这个是标注脚本所要用的解释器。  </p>
<blockquote>
<p>如#!/bin/bash    #!一定要合用。  </p>
</blockquote>
<p>test、[ ]  </p>
<blockquote>
<p>test的参数非常重要，不然就看不懂脚本<br>0表示成立，非0表示不成立<br>类型检测  </p>
<blockquote>
<p>-e：文件名是否存在，exist<br>-f：是否为文件,file<br>-d：目录<br>-b、-c、-s、-p、-L  </p>
</blockquote>
<p>权限  </p>
<blockquote>
<p>-r、-w、-x<br>-u、-g、-k  suid 、sgid、sbit (就是特殊权限)<br>-s：是否为空白文件  </p>
</blockquote>
<p>比较  </p>
<blockquote>
<p>-nt：newer than<br>-ot：older than<br>-et：equal than  </p>
</blockquote>
<p>数值判断  </p>
<blockquote>
<p>-eq： equal<br>-ne： not equal<br>-gt：  greater than<br>-lt：   less than<br>-ge： greater than or equal<br>-le：  less than or equal  </p>
</blockquote>
<p>字符串判断  </p>
<blockquote>
<p>-z：是否为空字符串<br>-n：是否为非空字符串<br>=<br>!=  </p>
</blockquote>
<p>多条件判断  </p>
<blockquote>
<p>-a：and 2个或多个条件一起满足<br>-o：or    满足一个即可<br>！  </p>
</blockquote>
</blockquote>
<p>shell脚本的默认变量和函数的默认变量  </p>
<blockquote>
<p>shell  </p>
<blockquote>
<p>   sh shell.sh                opt1     opt2     opt3<br>           $0                       $1       $2         $3  </p>
</blockquote>
<p>function  </p>
<blockquote>
<p>function printit(){…}<br>printit    1<br>  $0       $1  </p>
</blockquote>
<p>shell的$1是脚本后面跟的参数，而函数的$1是函数后面的参数，两者不一致  </p>
</blockquote>
<p>判断、循环语句，[]主要用在if里面  </p>
<blockquote>
<p>if […]; then  </p>
<blockquote>
<p>…  </p>
</blockquote>
<p>elif […];then  </p>
<blockquote>
<p>….  </p>
</blockquote>
<p>else  </p>
<blockquote>
<p>….  </p>
</blockquote>
<p>fi<br>-—————————————————–  </p>
</blockquote>
<blockquote>
<p>case $ in  </p>
<blockquote>
<p>“”)  </p>
</blockquote>
<blockquote>
<blockquote>
<p>……  </p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>;;  </p>
</blockquote>
</blockquote>
<blockquote>
<p>“”)  </p>
<blockquote>
<p>……<br>;;  </p>
</blockquote>
<p>*)  </p>
<blockquote>
<p>…..<br>;;  </p>
</blockquote>
</blockquote>
<p>esac<br>-——————————————————-<br>while […]  成立的话一直运行。<br>do  </p>
<blockquote>
<p>…..  </p>
</blockquote>
<p>done<br>-——————————————————-<br>until [….] 成立的话就不再执行<br>do  </p>
<blockquote>
<p>…..  </p>
</blockquote>
<p>done<br>-——————————————————-<br>for ((   ..;   ..;   …   )) 两个括号是因为shell里面的数值运算多是先定义才能用的，不定义的话就要用(())括起来<br>do                             #for的的条件是清楚的，而while是不清楚的  </p>
<blockquote>
<p>………..  </p>
</blockquote>
<p>done<br>-———————————–<br>for var in  .. .. ..<br>do  </p>
<blockquote>
<p>……..  </p>
</blockquote>
<p>done  </p>
</blockquote>
<p>脚本调试  </p>
<blockquote>
<p>sh -x sh15.sh 可以针对脚本一步一步执行，便于找出问题所在  </p>
<p>sh -n sh15.sh  检查语法错误，没错误的话不会显示任何东西</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zorroye.github.io/posts/4086592917/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ZorroYe">
      <meta itemprop="description" content="升级认知，看透本质">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye's Blog">
    </span>

    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/4086592917/" class="post-title-link" itemprop="url">鸟哥基础第十二章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2012-09-19 17:29:00" itemprop="dateCreated datePublished" datetime="2012-09-19T17:29:00+08:00">2012-09-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-04 14:44:13" itemprop="dateModified" datetime="2020-08-04T14:44:13+08:00">2020-08-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/%E9%B8%9F%E5%93%A5%E7%9A%84%E7%A7%81%E6%88%BF%E8%8F%9C/" itemprop="url" rel="index"><span itemprop="name">鸟哥的私房菜</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>10 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>正则表达式对于系统管理来说是必备的知识点，可以说是基础中的基础，本章只是很简单的介绍了一下。<br>第十章、第十一章的相关字符处理的内容多放到这边来了  </p>
<p>字符串处理  </p>
<blockquote>
<p>grep、sed     取行<br>cut、  awk     取字段  </p>
<p>cut：  </p>
<blockquote>
<p>echo $PATH | cut -d ‘:’ -f 3,5   以：为分隔符 区第3个和第5个字段<br>echo $PATH | cut -c 3-            从第三个字符开始取后面所有的字符  </p>
</blockquote>
</blockquote>
<blockquote>
<p>awk：  </p>
<blockquote>
<p>cut处理不了多个空格为分隔符的数据，awk则可以处理<br>awk命令格式：awk ‘ ‘  </p>
<p>cat /etc/passwd | awk ‘BEGIN         {FS=”:”}              $3 &lt; 10                   {print $1    “\t”     $3}’<br>                                    条件        以:为分隔符     只要第3个字段&lt;10     屏幕显示 第一个和第三个字段<br>                                                                                                             第一个和第3个字段中间tab隔开  </p>
<blockquote>
<p>其中BEGIN 是为了能从第一行开始处理，不加BEGIN则从第二行开始处理  </p>
</blockquote>
<p>last | awk ‘{print    $1    “\t lines:”              NR                  “\t columes:”                NF    } ‘  </p>
</blockquote>
</blockquote>
<p>                                                       tab+文字    awk在处理第几行                              每一行有多少个字段  </p>
<blockquote>
<p>grep：  </p>
<blockquote>
<p>last | grep -v ‘root’                   选择没有root的行(反向选择)<br>grep -n ‘[^g]oo’ test.txt            选择oo前面不含g的字符的行<br>grep -n ‘^[g]’ test.txt               选择有g开头的行  </p>
<blockquote>
<p><img src="http://img1.ph.126.net/x_kShbSnbeQzw_1wucyf7w==/6597720677539774381.jpg" alt="鸟哥基础第十二章 - leaf - ------坚持雅操------" title="鸟哥基础第十二章 - leaf - ------坚持雅操------"></p>
</blockquote>
<blockquote>
<p> 其中第二个很有意思：除了第一行其他多显示出来了。  </p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>grep -n ‘g.o’ test.txt            .代表有任意一个字符，必须有1个字符<br>grep -n ‘go*‘ test.txt            *代表有0个或多个重复的前面的字符。如g、go、goo、gooo等等<br>                                           .*就是0个或多个任意字符<br>grep -n ‘go\{2,5\}’ test.txt    代表有2个指5个o的字符<br>-————————<br>egrep -n ‘go+d’ test.txt         扩展grep命令，+代表1个或多个o<br>egrep -n ‘go?d’ test.txt         ?代表没有或者1个o<br>egrep -n ‘gd|good’ test.txt    选有gd或者有good的行  | 是或的意思，不是管道命令  </p>
</blockquote>
<p>sed  </p>
<blockquote>
<p>先看printf命令  </p>
<blockquote>
<p>printf   ‘       %10s\t                 %5i\t                %8.2f \n      ’                        `cat printf.txt`  </p>
</blockquote>
</blockquote>
<blockquote>
<p>                      10个字符+tab      5个整数+tab       8个整数2个小数点+换行        先cat，在printf  </p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>nl /etc/passwd | sed ‘2a test’           在第3行加入 test为内容的一行。2a就是在第二行下面一行<br>nl /etc/passwd | sed ‘2i test’            在第二行加入test为内容的一行。<br>                                                        2i就是在第二行上面加一行，加入后test就是第二行了  </p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>nl /etc/passwd | sed ‘2,5c test’         把第二至第五行替换为test  </p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>ifconfig eth0 | grep ‘inet’|   \<br>sed ‘   s                    /                ^.*addr:           /                             /           g’                 | sed ‘s/Bcast.*$//g’<br>         s表示替换      /格式     要替换的内容      /格式    替换为空    /格式   g表示结束  </p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>cat /etc/passwd | sed -e ‘4d’ -e ‘6c no six line’ &gt; /tmp/test/passwd  </p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>-e表示在直接在当前命令行上处理<br>4d 就是删除第4行<br>6c 就是把第6行替换为 no six line  </p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>字符转换命令  </p>
<blockquote>
<p>unix2dos、dos2unix：文档格式转换。  </p>
<blockquote>
<p>dos2unix -n old new   n表示保留旧文件<br>unix和ms的字符格式是不一样的：  </p>
<blockquote>
<p>unix是$<br>MS是M$  </p>
</blockquote>
<p><img src="http://img8.ph.126.net/J5l7lA5vecS6fgU_7lBymQ==/1299851442467638348.jpg" alt="鸟哥基础第十二章 - leaf - ------坚持雅操------" title="鸟哥基础第十二章 - leaf - ------坚持雅操------"></p>
<p>   </p>
</blockquote>
<p>tr：替换、删除字符串  </p>
<blockquote>
<p>tr默认是替换命令  </p>
<blockquote>
<p>last | tr ‘[a]‘ ‘[A]‘                      ：a替换为A  </p>
</blockquote>
<p>tr -d 删除字符  </p>
<blockquote>
<p>cat /etc/passwd | tr -d ‘：’      ：删除：  </p>
</blockquote>
</blockquote>
<p>col：tab转为空格  </p>
<blockquote>
<p>col -x  </p>
</blockquote>
<p>expand：tab转为空格，转成多少个空格可以自定义  </p>
<blockquote>
<p>enpand -t 4  </p>
</blockquote>
<p>join:2个文件，如果第一个字段一致，就粘成同一行，且第一个字段放在第一个  </p>
<blockquote>
<p>join -t ‘:’ /etc/passwd /etc/shadow  </p>
<blockquote>
<p>以：作为分隔符，比较第一个字段，<br>如root这一行：<br>2个文件的第一个字段都是root，所以就把2个文件的root这一行合并在一起，<br>并且把第二个文件的root删除，只保留第一个文件的root，并且放在最前面  </p>
<p>/etc/passwd      root:x:0:0:root:/root:/bin/bash<br>/etc/shadow      root:$1$tl3LqaXl$7CJiLfD9fbWtPjDluR1TT0:15594:0:99999:7:::<br>join后                root:x:0:0:root:/root:/bin/bash:$1$tl3LqaXl$7CJiLfD9fbWtPjDluR1TT0:15594:0:99999:7:::  </p>
</blockquote>
</blockquote>
<p>paste：2个文件的内容粘在一起。默认tab分隔  </p>
<blockquote>
<p>paste /etc/passwd /etc/shadow<br>paste后        root:x:0:0:root:/root:/bin/bash root:$1$tl3LqaXl$7CJiLfD9fbWtPjDluR1TT0:15594:0:99999:7:::  </p>
</blockquote>
</blockquote>
<p>其他重要命令  </p>
<blockquote>
<p>排序命令  </p>
<blockquote>
<p>sort：排序  </p>
<blockquote>
<p>cat /etc/passwd | sort -t ‘:’ -k 3     以：为分隔符，以第3个字段进行排序  </p>
</blockquote>
<blockquote>
</blockquote>
<p>uniq：重复的仅显示一次  </p>
<blockquote>
<p>last | cut -d ‘ ‘ -f 1 | sort | uniq       以空格为分隔符，取第一个字段，进行排序，再把重复的删除只留一个  </p>
</blockquote>
<p>wc：就是对文件的字数、行数、 字符数进行统计  </p>
<blockquote>
<p>cat /etc/passwd | wc      显示字数、行数、字符数，其中行数不包括空行  </p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<p>split：拆分命令(很有用)  </p>
<blockquote>
<p>split -b 300k /tmp/termcap  /tmp/1/term           拆分  </p>
<blockquote>
<p>显示结果：terma  termb termc  </p>
</blockquote>
<p>cat term* &gt;&gt; termcap                                       合并  </p>
</blockquote>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://baike.baidu.com/view/2285387.htm">xargs</a>：参数代换  </p>
<blockquote>
<p>把前面的结果作为参数给后面的命令用  </p>
</blockquote>
<blockquote>
<blockquote>
<p>cat “$accountfile” | cut -d ‘:’ -f1 | xargs -n 1 useradd -m  </p>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>把前面的用户名，每次一位的取给后面的useradd命令做参数用<br>也就是<br>for ((i=1;i&lt;=n;i++))  </p>
<blockquote>
<p>do  </p>
<blockquote>
<p>useradd -m f1  </p>
</blockquote>
<p>done  </p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>xargs -n 3 finger  </p>
<blockquote>
<p>-n 就是一次取3个参数，也就是 finger 参数1 参数2 参数3 。然后循环的取直到取完结束。  </p>
</blockquote>
<p>xargs -p finger  </p>
<blockquote>
<p>-p就是询问y 还是n  </p>
</blockquote>
</blockquote>
<p>diff：以行为单位比较  </p>
<blockquote>
<p>diff /etc /tmp/test    </p>
</blockquote>
<p>cmp：以字符为单位比较  </p>
<blockquote>
<p>cmp /etc/passwd /tmp/test  </p>
</blockquote>
<p>patch:打补丁命令  </p>
<p>pr：打印  </p>
<blockquote>
<p>pr /etc/passwd</p>
</blockquote>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/17/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><span class="page-number current">18</span><a class="page-number" href="/page/19/">19</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/19/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ZorroYe</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">399k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">24:11</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
